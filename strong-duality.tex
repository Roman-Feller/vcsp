\documentclass[]{article}
\usepackage[portrait, margin=5mm]{geometry}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{listings}
\pagenumbering{gobble}

\begin{document}
	
\lstset{
	basicstyle=\ttfamily\small,
	literate=
	{→}{{$\rightarrow$}}1
	{∀}{{$\forall$}}1
	{∃}{{$\exists$}}1
	{×}{{$\times$}}1
	{σ}{{$\sigma$}}1
	{τ}{{$\tau$}}1
	{≠}{{$\neq$}}1
	{≤}{{$\leq$}}1
	{≥}{{$\geq$}}1
	{↔}{{$\iff$}}1
	{¬}{{$\neg$}}1
	{∧}{{$\wedge$}}1
	{•}{$\bullet$}1
	{·}{$\cdot$}1
	{⬝}{$\cdot$}1
	{ℕ}{{$\mathbb{N}$}}1
	{ₗ}{{$_l$}}1
	{₀}{{$_0$}}1
	{∑}{{$\sum$}}1
	{ᵀ}{{$^\texttt{T}$}}1
	{ᵥ}{{$_v$}}1
}

All variables called $x$ or $y$ are always non-negative finite vectors.

Vectors $b$ and $c$ may have positive infinities but no negative infinities.

The matrix $A$ may have any infinities as long as our four conditions (hAi, hAj, hAb, hAc) are satisfied.

PRIM:
minimize $c \cdot x$ subject to $A \cdot x \le b$

DUAL:
minimize $b \cdot y$ subject to $(-A^T) \cdot y \le c$

Theorem (weak duality of linear programming):
If $x$ solves PRIM and $y$ solves DUAL, then
$c \cdot x + b \cdot y \ge 0$.

Corollary:
If PRIM is unbounded, DUAL is infeasible.
If DUAL is unbounded, PRIM is infeasible.
\bigskip

Theorem (strong duality of linear programming):

If both PRIM and DUAL are feasible, there exists a pair of solutions $x, y$ such that
$c \cdot x + b \cdot y = 0$.

Exactly one of the following systems has a solution:
$$
\begin{pmatrix}
	A & 0 \\
	0 & -A^T \\
	c & b
\end{pmatrix}
\cdot x
\;\le\;
\begin{pmatrix}
	b \\
	c \\
	0
\end{pmatrix}
$$

Or:
$$
\begin{pmatrix}
	-A^T & 0 & -c \\
	0 & A & -b
\end{pmatrix}
\cdot y
\;\le\;
0
$$
$$
\begin{pmatrix}
	b & c & 0
\end{pmatrix}
\cdot y
\;<\;
0
$$

First we prove that a solution of the first system provides the desired conclusion.

Then we prove that the second system cannot have a solution,
hence the solution provided by the first system always exists.

Let's name parts of the vector $x$ so that the first system of inequalities becomes:
$$
\begin{pmatrix}
	A & 0 \\
	0 & -A^T \\
	c & b
\end{pmatrix}
\cdot
\begin{pmatrix}
	x_1 \\
	y_1
\end{pmatrix}
\;\le\;
\begin{pmatrix}
	b \\
	c \\
	0
\end{pmatrix}
$$

We obtain $A \cdot x_1 \le b$, $(-A^T) \cdot y_1 \le c$, and
$c \cdot x_1 + b \cdot y_1 \le 0$.

Therefore, $x_1$ solves PRIM, $y_1$ solves DUAL, and we get
$c \cdot x_1 + b \cdot y_1 = 0$ with the help of the weak duality.
\bigskip

Let's name parts of the vector $y$ so that the second system of inequalities becomes
(the last inequality is sharp):
$$
\begin{pmatrix}
	-A^T & 0 & -c \\
	0 & A & -b \\
	b & c & 0
\end{pmatrix}
\cdot
\begin{pmatrix}
	y_0 \\
	x_0 \\
	z_0
\end{pmatrix}
\;\le\;
0
$$

We obtain
$(-A^T) \cdot y_0 + (-c) \cdot z_0 \le 0$,
$A \cdot x_0 + (-b) \cdot z_0 \le 0$, and
$b \cdot y_0 + c \cdot x_0 < 0$, where
$z_0$ is a single non-negative number.

%For simplification, let's assume $z=1$.

%How do we get from $A \cdot x + (-b) \le 0$ to $A \cdot x \le b$ which we need here?

We have $z_0^{-1} \bullet ((-A^T) \cdot y_0 + (-c) \cdot z_0) \le 0$,
$z_0^{-1} \bullet (A \cdot x_0 + (-b) \cdot z_0) \le 0$, and
$z_0^{-1} \bullet (b \cdot y_0 + c \cdot x_0) < 0$.

In case $z_0 > 0$, we get
$z_0^{-1} \bullet (-A^T) \cdot y_0 + z_0^{-1} \bullet (-c) \cdot z_0 \le 0$,
$z_0^{-1} \bullet A \cdot x_0 + z_0^{-1} \bullet (-b) \cdot z_0 \le 0$, and
$z_0^{-1} \bullet b \cdot y_0 + z_0^{-1} \bullet c \cdot x_0 < 0$.

%Note that we needed $z > 0$ both for associativity of multiplication
%and for distributivity of $\bullet$ over $+$.

It follows that
$(-A^T) \cdot (z_0^{-1} \bullet y_0) + (-c) \le 0$,
$A \cdot (z_0^{-1} \bullet x_0) + (-b) \le 0$, and
$z_0^{-1} \bullet b \cdot y_0 + z_0^{-1} \bullet c \cdot x_0 < 0$.

Using hAb we get $A \cdot (z^{-1} \bullet x_0) \le b$,
hence $(z_0^{-1} \bullet x_0)$ solves PRIM.

Using hAc we get $(-A^T) \cdot (z^{-1} \bullet y_0) \le c$,
hence $(z_0^{-1} \bullet y_0)$ solves DUAL.

Weak duality gives
$c \cdot (z_0^{-1} \bullet x_0) + b \cdot (z_0^{-1} \bullet y_0) \ge 0$.
That contradicts
$z_0^{-1} \bullet b \cdot y_0 + z^{-1} \bullet c \cdot x_0 < 0$.

It remains to examine the case $z = 0$.

Lemma:

Assume $x_0$ such that
$A \cdot x_0 + (-b) \cdot 0 \le 0$ and
$c \cdot x_0 < 0$.
If PRIM is feasible, then PRIM is unbounded.

Proof:

For contradiction, let $s$ be a finite number (``strict lower bound'')
such that $s < c \cdot x$ whenever $A \cdot x \le b$.

PRIM is feasible implies existence of $x_p$ such that
$A \cdot x_p \le b$ and $c \cdot x_p$ is finite.

In case $s \ge c \cdot x_p$, we are done. Assume now $s < c \cdot x_p$.
Observe that $c \cdot x_0$ is finite negative 
and that $\frac{s - c \cdot x_p}{c \cdot x_0}$ is finite positive.

Take $x := x_p + \frac{s - c \cdot x_p}{c \cdot x_0} \bullet x_0$ and see:
%$$ c \cdot x
% = c \cdot x_p + c \cdot \left( \frac{s - c \cdot x_p}{c \cdot x_0} \bullet x_0 \right) 
% = c \cdot x_p + c \cdot \left( \frac{s}{c \cdot x_0} \bullet x_0 - \frac{c \cdot x_p}{c \cdot x_0} \bullet x_0 \right)
% = c \cdot x_p + \frac{s}{c \cdot x_0} \bullet (c \cdot x_0) - \frac{c \cdot x_p}{c \cdot x_0} \bullet (c \cdot x_0)
%$$
$$ c \cdot x
 = c \cdot x_p + c \cdot \left( \frac{s - c \cdot x_p}{c \cdot x_0} \bullet x_0 \right)
 \stackrel{?}{=} c \cdot x_p + \frac{s - c \cdot x_p}{c \cdot x_0} \cdot (c \cdot x_0)
 = c \cdot x_p + (s - c \cdot x_p)
 = s $$

It remains to check $A \cdot x \le b$.
By definition, we must show that $(A \cdot x)~i \le b~i$ for all $i \in I$.

When $b~i$ is infinite, the inequality holds trivially.
Assume that $b~i$ is finite and calculate:
$$ (A \cdot x)~i
 = (A~i) \cdot \left( x_p + \frac{s - c \cdot x_p}{c \cdot x_0} \bullet x_0 \right)
 = (A~i) \cdot x_p + (A~i) \cdot \left( \frac{s - c \cdot x_p}{c \cdot x_0} \bullet x_0 \right)
 \stackrel{?}{=} (A~i) \cdot x_p + \frac{s - c \cdot x_p}{c \cdot x_0} \cdot ((A~i) \cdot x_0)
$$

Since we have $(A~i) \cdot x_0 + (-(b~i)) \cdot 0 \le 0$ where $b~i$ is finite,
we obtain $(A~i) \cdot x_0 \le 0$.

$$  (A~i) \cdot x_p + \frac{s - c \cdot x_p}{c \cdot x_0} \cdot ((A~i) \cdot x_0)
\le (A~i) \cdot x_p
\le b~i $$

By transitivity, we conclude $ (A \cdot x)~i \le b~i $.

%
%If both $b$ and $c$ are finite, we get
%$(-A^T) \cdot y \le 0$ and $A \cdot x \le 0$.
%
%As a result, the usual trick to show that PRIM or DUAL is unbounded works.
%
%Let us examine infinite values in $b \dots$
%
%Consider $A \cdot x + (-b) \cdot 0 \le 0$, and
%$c \cdot x < 0$.
%
%Negative infinities in $b$ do not bother us.
%
%Positive infinities in $b$ leave certain entries in $A \cdot x$ unconstrained.
%
%For the same values, however, $A \cdot x \le b$ should be tautological.
%
%Let us examine infinite values in $c \dots$
%
%Consider $(-A^T) \cdot y + (-c) \cdot 0 \le 0$, and
%$b \cdot y < 0$.
%
%Negative infinities in $c$ do not bother us.
%
%Positive infinities in $c$ leave certain entries in $(-A^T) \cdot y$ unconstrained.
%
%For the same values, however, $(-A^T) \cdot y \le c$ should be tautological.
%
%Success?
\bigskip

We miss knowing $v \cdot (q \bullet w) \stackrel{?}{=} q \cdot (v \cdot w)$ where
$v$ is any vector, $w$ is nonnegative finite vector, $q$ is positive finite number.


\end{document}
