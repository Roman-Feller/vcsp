\documentclass[]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\pagenumbering{gobble}

\begin{document}

\section {Extended fields}

Let $F$ be a totally ordered field.
Let $F_\infty = F \cup \{ \bot, \top \}$.
We define operations $+$ and $\cdot$ on $F_\infty$
so that
(for all $a \in F_\infty$ and for all $p \in F, p > 0$)
from top down:
\begin{align*}
	\bot <& \;a\, < \top \\
	\bot + a =& \;\bot = a + \bot \text{\qquad(includes $\bot + \top = \bot$)} \\
	\top + a =& \;\top = a + \top \\
	\bot \cdot\, p =& \;\bot = p \,\cdot \bot \\
	\top \cdot\, p =& \;\top = p \,\cdot \top \\
	\bot \cdot\, 0 =& \;\bot = 0 \,\cdot \bot \text{\qquad\;(the ``weird'' rule)} \\
	\top \cdot\, 0 =& \;\,0\, = 0 \,\cdot \top
\end{align*}
All other cases of all operations and relations
preserve their behavior from $F$.
We keep the product between negative numbers and
$\{ \bot, \top \}$ undefined.

\section{Farkas-like conjecture}

Let $A \in F_\infty^{m \times n}$ and $b \in F^m$.
Exactly one of the following is true:
\begin{itemize}
	\item $\exists x \in F^n$ such that
	$0 \leqq x$ and $A\; x \leqq b$
	\item $\exists y \in F^m$ such that
	$0 \leqq y$ and $(-A^T)\; y \leqq 0$ and $b^T y < 0$
\end{itemize}

\section{Counterexample}

$$
A =
\begin{pmatrix}
	\bot & \top\\
	\top & \bot
\end{pmatrix}
\qquad \qquad
b =
\begin{pmatrix}
	-1 \\
	-1
\end{pmatrix}
$$
Both are true.

\section{Remark}

For all other versions of Farkas lemma
that I tried to generalize to $F_\infty$
similar counterexample still applies.
However, they might work if it was forbidden
for a row of $A$ to contain both $\bot$ and $\top$
and alike for a column.

%The problem is when the conversion to the finite
%version requires us to delete both rows and columns,
%the rows must be deleted first both in the primar
%and in the dual, and so, if deleting a row stops
%deleting a column from triggering, it leads to a
%different result in the primar than in the dual
%because of the matrix transposition.

\section{New attempt}

Let $A \in F_\infty^{m \times n}$ and $b \in F_\infty^m$.
Assuming that no row and no column of $A$ contains
both $\bot$ and $\top$ elements and that
$A$ does not have $\bot$ on any row where $b$ has $\bot$,
exactly one of the following is true:
\begin{itemize}
	\item $\exists x \in F^n$ such that
	$0 \leqq x$ and $A\; x \leqq b$
	\item $\exists y \in F^m$ such that
	$0 \leqq y$ and $(-A^T)\; y \leqq 0$ and $b^T y < 0$
\end{itemize}

\section{Proof idea}

We need to do the following steps in given order:
\begin{enumerate}
\item Delete all rows of $(A|b)$ where $A$ has $\bot$ or $b$ has $\top$
(they are tautologies).
\item Delete all columns of $A$ that contain $\top$
(they force respective variables to be zero).
\item If $b$ contains $\bot$ then the $(\exists x)$ part cannot be satisfied,
but $y = 0$ satisfies the other part. Stop here.
\item Assume there is no $\bot$ in $b$. Use the normal Farkas.
Whichever solution Farkas outputs, extend it with zeros on
all deleted positions.
\end{enumerate}

\section{Proof sketch}

\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\bullet$}
\renewcommand{\labelitemiii}{$\bullet$}
\renewcommand{\labelitemiv}{$\bullet$}

\begin{itemize}
\item $ A \in F_\infty^{I \times J} $
\item $ b \in F_\infty^{I} $
\item hA: no row $i$ is allowed to have both $A_{i, \star} \ni \bot$ and $A_{i, \star} \ni \top$
\item hAb: no row $i$ is allowed to have both $b_i = \top$ and $A_{i, \star} \ni \top$
\item if $\bot \in b$ then easy; from now on assume $\bot \notin b$
\item $ I' := \{ i \in I ~|~ b_i \neq \top \wedge \bot \notin A_{i, \star} \} $
\item $ J' := \{ j \in J ~|~ \top \notin A_{\star, j}  \} $
\item $ A' := A \restriction (I' \times J') $
\item $ A' \in F^{I' \times J'} $
\item $ b' := b \restriction I' $
\item $ b' \in F^{I'} $
\item $ (\exists x) \implies (\exists x') \ \dots \ $ easy
\item $ (\exists x') \implies (\exists x) \ \dots \ $ easy
\item assume $\exists y \in F^I$ such that $0 \leqq y$ and $(-A^T)\; y \leqq 0$ and $b^T y < 0$
\begin{itemize}
	\item use $y' := y \restriction I'$
	\item $ y' \in F^{I'} $
	\item $0 \leqq y'$ from $0 \leqq y$
	\item given $j \in J'$ show: $\quad ((-A'^T)\; y')_{j} = \sum\limits_{i \in I'} y'_i \cdot (-A'^T)_{j,i} \le 0 $\\
	using: $\quad ((-A^T)\; y)_j =
	\sum\limits_{i \in I'} y'_i \cdot (-A^T)_{j,i} + \sum\limits_{i \in I \setminus I'} y_i \cdot (-A^T)_{j,i} \le 0 $
	suffices: $\quad \sum\limits_{i \in I \setminus I'} y_i \cdot (-A^T)_{j,i} = 0 $ \\
	fix $i \in I \setminus I'$ and show $ y_i \cdot (-A)_{i,j} = 0 $
	\begin{itemize}
		\item from our $I'$ we have either $ b_i = \top $ or $ \bot \in A_{i, \star} $
		\item show $ \bot \notin (-A^T)_{\star, i} $ that is $ \top \notin A_{i, \star} $ by contradiction $ \top \in A_{i, \star} $
		\begin{itemize}
			\item if $ b_i = \top $ then contradicts hAb
			\item if $ \bot \in A_{i, \star} $ then contradicts hA
		\end{itemize}
		\item show $y_i = 0$ by contradiction $y_i > 0$
		\begin{itemize}
			\item if $ b_i = \top $ then $b^T y = \top \ge 0$ \\
			(we need $\bot \notin b$ here)
			\item if $ \bot \in A_{i, \star} $ hence $ \top \in (-A^T)_{\star, i} $ then $ ((-A^T)\; y)_j = \top > 0$
			(we need $ \bot \notin (-A^T)_{\star, i} $ here)
		\end{itemize}
		\item show $ (-A)_{i,j} \neq \bot $
		\begin{itemize}
			\item special case of what we already have
		\end{itemize}
	\end{itemize}
	\item we need to show $b'^T y' = \sum\limits_{i \in I'} y'_i \cdot b'_i < 0$ \\
	suffices\dots $ \sum\limits_{i \in I \setminus I'} y_i \cdot b_i = 0 $ \\
	show $y_i = 0$ by the same arguments as above \\
	finish using $\bot \notin b$
\end{itemize}
\item assume $\exists y' \in F^{I'}$ such that $0 \leqq y'$ and $(-A'^T)\; y' \leqq 0$ and $b'^T y' < 0$
\begin{itemize}
	\item use $y := y'$ extended with $0$ on $I \setminus I'$
	\item $ y \in F^I $
	\item $0 \leqq y$ is trivial
	\item assume $j \in J'$ and calculate\dots $ ((-A^T)\; y)_j = $\\
	$ \sum\limits_{i \in I'} y_i \cdot (-A^T)_{j,i} + \sum\limits_{i \in I \setminus I'} y_i \cdot (-A^T)_{j,i} = $\\
	$ \sum\limits_{i \in I'} y'_i \cdot (-A'^T)_{j,i} + \sum\limits_{i \in I \setminus I'} 0 \cdot (-A^T)_{j,i} = $\\
	$ ((-A'^T)\; y')_j + \sum\limits_{i \in I \setminus I'} [0 \textup{~or~} \bot] \le ((-A'^T)\; y')_j \le 0  $\\
	assume $j \notin J'$ hence $\top \in A_{\star, j}$ hence $\bot \in (-A^T)_{j, \star}$ and calculate...
	$ ((-A^T)\; y)_j = \sum\limits_{i \in I} y_i \cdot (-A^T)_{j,i} = [\ge 0] \cdot \bot + (\dots) = \bot \le 0 $
	\item $ b^T y
	= \sum\limits_{i \in I'} y_i \cdot b_i + \sum\limits_{i \in I \setminus I'} y_i \cdot b_i
	= \sum\limits_{i \in I'} y'_i \cdot b'_i + \sum\limits_{i \in I \setminus I'} 0 \cdot b_i
	= b'^T y' < 0 $
	(note that we used $\bot \notin b$ for $0 \cdot b_i = 0$ in the last equality)
\end{itemize}
\end{itemize}

\end{document}
